[关于如何调用算法](https://neo4j.com/docs/graph-data-science/current/management-ops/anonymous-graph/)

[查询cypher](https://neo4j.com/docs/cypher-manual/4.1/introduction/uniqueness/)

```
match (u:Author)-[:Article]-(m:Author)-[:Article]-(p:Author) where id(u)=15 return m,u,p


```


```

                  CALL gds.louvain.stream({
                    nodeQuery:'match (u:Author) where id(u) in [448371,1334993,1334731,66550,2482411,2432635,475511,798163,2106021,2214864,1226055,1208856,2160600,1426098,1,1154743,547069,2296962,1443356,1420108,1359631,257465,2477219,2586764,384401,140291,1960274,791738,2565288,585584,1386932,775917,1606188,476958,1740043,2701793,13722,1850627,1254070,1605718,517745,1823667,1715178,1361858,1183026,356590,1748935,1932550,1862236,2705204,1687914,1699349,2368748,871016,1278590,381840,258735,120812,2204732,2341051,2352482,2243269,1631054,708217,1715179,735274,1821467,1280484,762478,1232810,163663,2503902,490649,1767270,1279336,979565,599205,388307,1062990,1445408,2666948,708657,218031,571873,490645,2229761,764963,1361866,1603946,1794206,81652,1278104,845949,438029,926735,1986787,632425,1047712,632426,981375,2485726,628633,1171538,1882217,2314138,1470838,306398,191709,1661012,27825,1362000,1333332,120414,2148698,884848,1944422,2135066,1278117,2529065,517590,571732,1343586,1263723,2348426,1430412,411277,418573,1253535,742320,1912547,1557306,604347,2152156,770386,528780,599041,708058,1989460,2156099,1666280,897844,1905027,2474455,108979,2584185,1361864,824790,2596015,66095,2675587,194258,2157105,1970736,1388936,29353,1196497,1009145,311279,1823917,256258,2459307,765223,1359585,1604081,1307595,2215861,1669664,2133159,202817,2067640,2704635,1878118,1794654,1416315,1909230,2395668,2449781,2044257,490643,764800,463263,12540,1416079,1117352,2177724,1251095,110775,1416233,1171610,1957641,1060665,1155104,1182367,440387,844018,1551674,2618645,503143,962809,2693975,2075490,2675633,442962,653643,630006,1698000,1743863,2106207,2295561,1227031,1987081,1069769,1877848,2284301,546882,2393446,766886,449250,2370340,1635381,1726077,762652,2175309,1314235,1127430,2120929,1974398,1932881,272417,1101107,721293,1060812,1524568,490642,316740,1042543,1633037,2529389,492815,2558027,62198,816919,2638888,1562712,737579,2134283,1205492,163745,381677,981860,1560596,610213,1346621,2691620,1115209,2213165,384015,1006881,576140,544966,2563487,416085,2209646,2639715,2014351,2699332,797093,1640784,2514197,34370,2313915,2262996,545398,2406035,764697,2177737,1902935,1344859,81522,1747709,2585215,626897,774876,954478,81510,1821692,1361123,1970230,2313916,846565,2313054,720724,769481,165834,2503811,274571,1578962,927494,1064546,1522112,1117755,574445,1640514,547874,1332254,247796,1450422,638498,992476,575483,1368497,1967690,371623,65553,1155326,2051471,1576892,2042179,337872,1775885,816788,1060816,1562327,1834277,1470333,2120991,1453919,2509365,879656,501923,517746,1040288,1851232,551568,2261666,635127,2175753,2582818,1769666,1278332,1035988,1942973,2340941,220624,934119,191221,2123286,680937,874726,1033820,1743603,418715,28433,1822270,202320,2208743,1205495,2595966,871424,2039522,881937,1499517,1091595,1553072,247445,1014407,217960,636284,2211450,2556581,1695102,2694251,308274,2152990,40394,1495279,2591727,1796841,84332,1689167,2123102,2207153,1046496,660044,980186,1397851,1932975,2178040,927746,2347210,1045386,1470718,2121081,1998818,331072,1585594,1986950,2314838,1997325,110965,1902938,448946,354793,1875810,938406,111119,2646179,367193,763059,2068252,1363411,1524639,2150403,333238,855350,13275,1993579,824764,610207,2434726,2021078,608826,953138,2482409,367504,2369852,1225309,682266,1554545,1441046,1522119,2701507,2187391,1686345,2517505,2676323,1530974,1305382,1394286,1750454,2616863,13270,775522,2487758,955297,1661302,2541838,547780,84699]   return id(u) as id',
                    relationshipQuery:'match (u:Author)-[r:Article]-(m:Author) where  id(u) in [448371,1334993,1334731,66550,2482411,2432635,475511,798163,2106021,2214864,1226055,1208856,2160600,1426098,1,1154743,547069,2296962,1443356,1420108,1359631,257465,2477219,2586764,384401,140291,1960274,791738,2565288,585584,1386932,775917,1606188,476958,1740043,2701793,13722,1850627,1254070,1605718,517745,1823667,1715178,1361858,1183026,356590,1748935,1932550,1862236,2705204,1687914,1699349,2368748,871016,1278590,381840,258735,120812,2204732,2341051,2352482,2243269,1631054,708217,1715179,735274,1821467,1280484,762478,1232810,163663,2503902,490649,1767270,1279336,979565,599205,388307,1062990,1445408,2666948,708657,218031,571873,490645,2229761,764963,1361866,1603946,1794206,81652,1278104,845949,438029,926735,1986787,632425,1047712,632426,981375,2485726,628633,1171538,1882217,2314138,1470838,306398,191709,1661012,27825,1362000,1333332,120414,2148698,884848,1944422,2135066,1278117,2529065,517590,571732,1343586,1263723,2348426,1430412,411277,418573,1253535,742320,1912547,1557306,604347,2152156,770386,528780,599041,708058,1989460,2156099,1666280,897844,1905027,2474455,108979,2584185,1361864,824790,2596015,66095,2675587,194258,2157105,1970736,1388936,29353,1196497,1009145,311279,1823917,256258,2459307,765223,1359585,1604081,1307595,2215861,1669664,2133159,202817,2067640,2704635,1878118,1794654,1416315,1909230,2395668,2449781,2044257,490643,764800,463263,12540,1416079,1117352,2177724,1251095,110775,1416233,1171610,1957641,1060665,1155104,1182367,440387,844018,1551674,2618645,503143,962809,2693975,2075490,2675633,442962,653643,630006,1698000,1743863,2106207,2295561,1227031,1987081,1069769,1877848,2284301,546882,2393446,766886,449250,2370340,1635381,1726077,762652,2175309,1314235,1127430,2120929,1974398,1932881,272417,1101107,721293,1060812,1524568,490642,316740,1042543,1633037,2529389,492815,2558027,62198,816919,2638888,1562712,737579,2134283,1205492,163745,381677,981860,1560596,610213,1346621,2691620,1115209,2213165,384015,1006881,576140,544966,2563487,416085,2209646,2639715,2014351,2699332,797093,1640784,2514197,34370,2313915,2262996,545398,2406035,764697,2177737,1902935,1344859,81522,1747709,2585215,626897,774876,954478,81510,1821692,1361123,1970230,2313916,846565,2313054,720724,769481,165834,2503811,274571,1578962,927494,1064546,1522112,1117755,574445,1640514,547874,1332254,247796,1450422,638498,992476,575483,1368497,1967690,371623,65553,1155326,2051471,1576892,2042179,337872,1775885,816788,1060816,1562327,1834277,1470333,2120991,1453919,2509365,879656,501923,517746,1040288,1851232,551568,2261666,635127,2175753,2582818,1769666,1278332,1035988,1942973,2340941,220624,934119,191221,2123286,680937,874726,1033820,1743603,418715,28433,1822270,202320,2208743,1205495,2595966,871424,2039522,881937,1499517,1091595,1553072,247445,1014407,217960,636284,2211450,2556581,1695102,2694251,308274,2152990,40394,1495279,2591727,1796841,84332,1689167,2123102,2207153,1046496,660044,980186,1397851,1932975,2178040,927746,2347210,1045386,1470718,2121081,1998818,331072,1585594,1986950,2314838,1997325,110965,1902938,448946,354793,1875810,938406,111119,2646179,367193,763059,2068252,1363411,1524639,2150403,333238,855350,13275,1993579,824764,610207,2434726,2021078,608826,953138,2482409,367504,2369852,1225309,682266,1554545,1441046,1522119,2701507,2187391,1686345,2517505,2676323,1530974,1305382,1394286,1750454,2616863,13270,775522,2487758,955297,1661302,2541838,547780,84699] and id(m) in [448371,1334993,1334731,66550,2482411,2432635,475511,798163,2106021,2214864,1226055,1208856,2160600,1426098,1,1154743,547069,2296962,1443356,1420108,1359631,257465,2477219,2586764,384401,140291,1960274,791738,2565288,585584,1386932,775917,1606188,476958,1740043,2701793,13722,1850627,1254070,1605718,517745,1823667,1715178,1361858,1183026,356590,1748935,1932550,1862236,2705204,1687914,1699349,2368748,871016,1278590,381840,258735,120812,2204732,2341051,2352482,2243269,1631054,708217,1715179,735274,1821467,1280484,762478,1232810,163663,2503902,490649,1767270,1279336,979565,599205,388307,1062990,1445408,2666948,708657,218031,571873,490645,2229761,764963,1361866,1603946,1794206,81652,1278104,845949,438029,926735,1986787,632425,1047712,632426,981375,2485726,628633,1171538,1882217,2314138,1470838,306398,191709,1661012,27825,1362000,1333332,120414,2148698,884848,1944422,2135066,1278117,2529065,517590,571732,1343586,1263723,2348426,1430412,411277,418573,1253535,742320,1912547,1557306,604347,2152156,770386,528780,599041,708058,1989460,2156099,1666280,897844,1905027,2474455,108979,2584185,1361864,824790,2596015,66095,2675587,194258,2157105,1970736,1388936,29353,1196497,1009145,311279,1823917,256258,2459307,765223,1359585,1604081,1307595,2215861,1669664,2133159,202817,2067640,2704635,1878118,1794654,1416315,1909230,2395668,2449781,2044257,490643,764800,463263,12540,1416079,1117352,2177724,1251095,110775,1416233,1171610,1957641,1060665,1155104,1182367,440387,844018,1551674,2618645,503143,962809,2693975,2075490,2675633,442962,653643,630006,1698000,1743863,2106207,2295561,1227031,1987081,1069769,1877848,2284301,546882,2393446,766886,449250,2370340,1635381,1726077,762652,2175309,1314235,1127430,2120929,1974398,1932881,272417,1101107,721293,1060812,1524568,490642,316740,1042543,1633037,2529389,492815,2558027,62198,816919,2638888,1562712,737579,2134283,1205492,163745,381677,981860,1560596,610213,1346621,2691620,1115209,2213165,384015,1006881,576140,544966,2563487,416085,2209646,2639715,2014351,2699332,797093,1640784,2514197,34370,2313915,2262996,545398,2406035,764697,2177737,1902935,1344859,81522,1747709,2585215,626897,774876,954478,81510,1821692,1361123,1970230,2313916,846565,2313054,720724,769481,165834,2503811,274571,1578962,927494,1064546,1522112,1117755,574445,1640514,547874,1332254,247796,1450422,638498,992476,575483,1368497,1967690,371623,65553,1155326,2051471,1576892,2042179,337872,1775885,816788,1060816,1562327,1834277,1470333,2120991,1453919,2509365,879656,501923,517746,1040288,1851232,551568,2261666,635127,2175753,2582818,1769666,1278332,1035988,1942973,2340941,220624,934119,191221,2123286,680937,874726,1033820,1743603,418715,28433,1822270,202320,2208743,1205495,2595966,871424,2039522,881937,1499517,1091595,1553072,247445,1014407,217960,636284,2211450,2556581,1695102,2694251,308274,2152990,40394,1495279,2591727,1796841,84332,1689167,2123102,2207153,1046496,660044,980186,1397851,1932975,2178040,927746,2347210,1045386,1470718,2121081,1998818,331072,1585594,1986950,2314838,1997325,110965,1902938,448946,354793,1875810,938406,111119,2646179,367193,763059,2068252,1363411,1524639,2150403,333238,855350,13275,1993579,824764,610207,2434726,2021078,608826,953138,2482409,367504,2369852,1225309,682266,1554545,1441046,1522119,2701507,2187391,1686345,2517505,2676323,1530974,1305382,1394286,1750454,2616863,13270,775522,2487758,955297,1661302,2541838,547780,84699] 
                    return id(u) as source, id(m) as target,r.weight as weight',
                    includeIntermediateCommunities:true
                    
                  })
                  YIELD nodeId, communityId,computeMillis,modularity,intermediateCommunityIds
                  RETURN nodeId,gds.util.asNode(nodeId).name AS name, communityId, intermediateCommunityIds order by communityId asc
                  
```